# Проект e-commerce

### Стек:
Python, Pandas, NumPy, Plotly, Seaborn, Matplotlib, RFM-сегментация.

## Задача:
Проанализировать совершенные покупки и найти:

1. Количество пользователей, которые совершили покупку только один раз.

2. Количество заказов в месяц в среднем, которое не доставляется по разным причинам.

3. По каждому товару определить, в какой день недели товар чаще всего покупается.

5. Количество у каждого из пользователей в среднем покупок в неделю / месяц.

6. Провести когортный анализ пользователей.

7. Построить RFM-сегментацию пользователей, чтобы качественно оценить свою аудиторию (R - время от последней покупки пользователя до текущей даты, F - суммарное количество покупок у пользователя за всё время, M - сумма покупок за всё время).


## Этапы:
1. Загрузка данных с помощью получения загрузочных ссылок.
2. Проводим анализ каждого датафрейма.
3. Определяем количество пользователей, которые совершили покупку только один раз.
В первую очередь, покупкой считается та операция, которая уже оплачена и передана покупателю. То есть, оставим только те статусы заказов, которые подходят под это условие (`delivered` — доставлен пользователю).

**Результат** : 90557 пользователей, которые совершили покупку только один раз.

5. Определяем количество заказов в месяц в среднем, которое не доставляется по разным причинам.
Заказы, которые не были доставлены пользователю (неуспешная операция), имеют статусы unavailable (недоступен) или canceled (отменён).

**Результат**: Исходя из полученных результатов, можно заметить, что наиболее частой причиной отсутствия продажи товара в среднем в месяц является его недоступность, то есть дефицит продукта, либо иные причины, связанные с поломкой сайта для заказа товара.

6. По каждому товару определить, в какой день недели товар чаще всего покупается (для этого объединяем таблицы заказов и товарных позиций).

**Результат** : Среда.

7. Определяем количество у каждого из пользователей в среднем покупок в неделю / месяц.
Поскольку покупка - это операция, которая уже оплачена и передана покупателю. Будем рассматривать заказы со статусом `delivered`.

8. Проводим когортный анализ пользователей:
   - В период с января по декабрь выяви когорту с самым высоким retention на 3й месяц.
   - Чтобы провести дальнейший анализ, создадим объёдинённый датафрейм из 2 таблиц, используя только необходимые столбцы.
   - В дальнейшем будем использовать данные пользователей, имеющих статус (`delivered` — доставлен пользователю), поскольку нас не интересуют промежуточные этапы передачи заказа покупателю, а также неуспешные операции пользователей (которые не имеют первой покупки товара, но с отменённым статусом), данные будут нерелевантны.

**Результат** : Исходя из графика, можем сделать вывод, что на 3 месяц (4 период в таблице, так как 1 - это период с базисным коэффициентом) самый большой показатель 0.0047 (0.47%) у кагорты 2017-03.

9. Строим RFM-сегментацию пользователей:
    - Для построения RFM-сегментации объединим 3 таблицы в 1 датафрейм. Аналогично, будем использовать датафрейм со статусами заказов `delivered`, что говорит о совершении покупки покупателем.
    - Отобразим в датафрейме необходимые столбцы для RFM-анализа, к ним относятся уникальные id пользоваталей, время покупки конкретного пользователя, заказ покупателя, сумма покупки.
    - Установим отчётную дату today и включительно 1 день после последней покупки, которая считает дату не текущую дату, а от самой последней покупки.
    - Рассчитаем метрики: R - время от последней покупки пользователя до текущей даты, F - суммарное количество покупок у пользователя за всё время, M - сумма покупок за всё время.
    - Объединяем полученнные метрики в датафрейм.
    - Рассчитаем баллы R, F и M.

**Результат** : Исходя из представленного распределения, можем сделать вывод, что наибольшим кластером покупателей являются 111, 211, 311.

- По временному периоду покупок:
  1 - старые клиенты (от 9 мес.)
  2 - средней давности (от 3 мес. до 9 мес.)
  3 - недавние клиенты (до 3 мес.)

- По частоте покупок:
  1 — покупает редко (по 1 покупке)
  2 — покупает нечасто (по 2 покупки)
  3 — покупает часто (3 и более)

- По сумме покупок:
  1 — маленькая сумма (до 100 д.е.)
  2 — средняя сумма (от 100 до 500 д.е.)
  3 — большая сумма (от 500 д.е.)

10. *Составим портрет потребителя*: клиент в каждом из трёх временных категорий совершал единичную покупку и на небольшую сумму (в среднем на 89,73 д.е.).
